.SUFFIXES: .o .f08

# Compiler
FC  = gfortran 

# Flags
FFLAGS = -O3# -g3 #-g -fbacktrace -fbounds-check # -O3 for optimization / everything else for debugging
WFLAGS = -Wall -Wconversion -pedantic -std=f2008 -fall-intrinsics -Warray-temporaries -Wcharacter-truncation \
         -Wconversion-extra -Wsurprising # -Wextra # warnings

# Compiling rules
.f08.o:
	$(FC) $(FFLAGS) $(WFLAGS) -c $*.f08

# Object modules
OBJ = FortranFunctions.o ArrayFunctions.o Applications.o TestingFunctions.o

# Default target
all: Quantum_Now

#Quantum_Now (target) depends on all object files
Quantum_Now: $(OBJ)
	$(FC) -o Quantum_Now $(FFLAGS) $(WFLAGS) $(OBJ)

#Deletes files generated by compilation
clean:
	rm -f *.o *.mod Quantum_Now

run:Quantum_Now
	./Quantum_Now

