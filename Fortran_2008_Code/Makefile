.SUFFIXES: .o .f08

# Compiler
FC  = gfortran 

# Flags
FFLAGS = -O3 -Wall -Wconversion # -O3 for maximum optimization \ -W* for warnings
DFLAGS = -g -g3 -fbacktrace -fbounds-check #-g* -f* for debugging

# Compiling rules
.f08.o:
	$(FC) $(FFLAGS) $(DFLAGS) -c $*.f08

# Object modules
OBJ = FortranFunctions.o ArrayFunctions.o Applications.o TestingFunctions.o

# Default target
all: Quantum_Now

#Quantum_Now (target) depends on all object files
Quantum_Now: $(OBJ)
	$(FC) -o Quantum_Now $(FFLAGS) $(DFLAGS) $(OBJ)

#Deletes files generated by compilation
clean:
	rm -f *.o *.mod Quantum_Now

run:Quantum_Now
	./Quantum_Now

