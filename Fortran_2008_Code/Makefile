.SUFFIXES: .o .f08

# Compiler
FC  = gfortran 

# Flags
OFLAGS = -O3 -funroll-loops # -Optimization
DFLAGS = -g3 -g -finit-real-snan -fbacktrace -fcheck=all # debugging
WFLAGS = -Wall -Wconversion -std=f2008 -fall-intrinsics -Warray-temporaries -Wcharacter-truncation \
         -Wconversion-extra -Wsurprising # warnings

# Compiling rules
.f08.o:
	$(FC) $(OFLAGS) $(WFLAGS) -c $*.f08

# Object modules
OBJ = FortranFunctions.o ArrayFunctions.o Applications.o TestingFunctions.o

# Default target
all: Quantum_Now

#Quantum_Now (target) depends on all object files
Quantum_Now: $(OBJ)
	$(FC) -o Quantum_Now $(OFLAGS) $(WFLAGS) $(OBJ)

#Deletes files generated by compilation
clean:
	rm -f *.o *.mod Quantum_Now

run:Quantum_Now
	./Quantum_Now

